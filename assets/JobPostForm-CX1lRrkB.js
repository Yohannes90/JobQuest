import{r as d,j as e}from"./index-CtM658qn.js";import{S as m,E as x}from"./Error-C5-W2j9s.js";const f=({job:n})=>{const c={id:-1,jobTitle:"",companyName:"",location:"",jobType:"",jobCategory:"",description:"",workArrangement:"",experienceLevel:"",applicationDeadline:"",contactEmail:""},[r,s]=d.useState(c),[u,p]=d.useState(!1);d.useEffect(()=>{n&&s(n)},[n]);const o=i=>{const{name:t,value:a}=i.target;s({...r,[t]:a})},g=()=>{s(c)},b=async i=>{i.preventDefault(),console.log("Form submitted"),console.log(r);try{const t=n?`https://har-backend.vercel.app/api/job-postings/${r.id}`:"https://har-backend.vercel.app/api/submit-job-posting",a=n?"PUT":"POST";if(console.log(`Sending ${a} request to ${t}`),(await fetch(t,{method:a,headers:{"Content-Type":"application/json"},body:JSON.stringify(r)})).ok){const l="Job posting submitted successfully";p(!0),setTimeout(()=>{u&&m},3e3),p(!1),g()}else{const l="Failed to submit job posting";setTimeout(()=>{x},3e3)}}catch(t){console.error("Error submitting job posting:",t)}};return e.jsx("div",{id:"job-post-form",className:"text-black min-h-screen flex items-center justify-center py-12 bg-gray-100",children:e.jsxs("div",{className:"bg-white p-10 rounded-lg shadow-lg w-full max-w-4xl",children:[u&&e.jsx(m,{msg:"Job posting submitted successfully"}),e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("h2",{className:"uppercase text-3xl text-harPrimary",children:n?"Update Job Post":"Job Post Creation"}),e.jsx("p",{className:"mt-4 text-lg text-gray-600 font-thin",children:n?"Update the details of the job post below.":"Fill out the form below to create a job post."})]}),e.jsxs("form",{className:"space-y-8",onSubmit:b,children:[e.jsxs("div",{className:"grid grid-cols-1 gap-y-6 sm:grid-cols-2 sm:gap-x-8",children:[e.jsx("div",{children:e.jsx("input",{type:"text",name:"jobTitle",id:"jobTitle",placeholder:"Job Title",value:r.jobTitle,onChange:o,className:"block w-full px-5 py-3 border bg-gray-50 text-black outline-none border-gray-300 rounded-md shadow-sm focus:ring-green-900 focus:border-green-900",required:!0})}),e.jsx("div",{children:e.jsx("input",{type:"text",name:"companyName",id:"companyName",placeholder:"Company Name",value:r.companyName,onChange:o,className:"block w-full bg-gray-50 text-black outline-none px-5 py-3 border border-gray-300 rounded-md shadow-sm focus:ring-green-900 focus:border-green-900",required:!0})}),e.jsx("div",{children:e.jsx("input",{type:"text",name:"location",id:"location",placeholder:"Location",value:r.location,onChange:o,className:"block w-full bg-gray-50 text-black outline-none px-5 py-3 border border-gray-300 rounded-md shadow-sm focus:ring-green-900 focus:border-green-900",required:!0})}),e.jsx("div",{children:e.jsxs("select",{name:"jobType",id:"jobType",value:r.jobType,onChange:o,className:"block w-full bg-gray-50 text-black outline-none px-5 py-3 border border-gray-300 rounded-md shadow-sm focus:ring-green-900 focus:border-green-900",required:!0,children:[e.jsx("option",{className:"text-gray-600 bg-gray-200",value:"",disabled:!0,children:"Select Job Type"}),e.jsx("option",{value:"full_time",children:"Full-time"}),e.jsx("option",{value:"part_time",children:"Part-time"}),e.jsx("option",{value:"contract",children:"Contract"}),e.jsx("option",{value:"internship",children:"Internship"})]})})]}),e.jsx("div",{children:e.jsxs("select",{name:"jobCategory",id:"jobCategory",value:r.jobCategory,onChange:o,className:"block w-full bg-gray-50 text-black outline-none px-5 py-3 border border-gray-300 rounded-md shadow-sm focus:ring-green-900 focus:border-green-900",required:!0,children:[e.jsx("option",{value:"",disabled:!0,children:"Select Job Category"}),e.jsx("option",{value:"information_technology",children:"Information Technology"}),e.jsx("option",{value:"hr",children:"HR"}),e.jsx("option",{value:"software_development",children:"Software Development"}),e.jsx("option",{value:"marketing_and_sales",children:"Marketing and Sales"}),e.jsx("option",{value:"product_management",children:"Product Management"})]})}),e.jsx("div",{children:e.jsxs("select",{name:"workArrangement",id:"workArrangement",value:r.workArrangement,onChange:o,className:"block w-full bg-gray-50 text-black outline-none px-5 py-3 border border-gray-300 rounded-md shadow-sm focus:ring-green-900 focus:border-green-900",required:!0,children:[e.jsx("option",{value:"",disabled:!0,children:"Select Work Arrangement"}),e.jsx("option",{value:"in_person",children:"In-person"}),e.jsx("option",{value:"remote",children:"Remote"}),e.jsx("option",{value:"hybrid",children:"Hybrid"})]})}),e.jsx("div",{children:e.jsxs("select",{name:"experienceLevel",id:"experienceLevel",value:r.experienceLevel,onChange:o,className:"block w-full bg-gray-50 text-black outline-none px-5 py-3 border border-gray-300 rounded-md shadow-sm focus:ring-green-900 focus:border-green-900",required:!0,children:[e.jsx("option",{value:"",disabled:!0,children:"Select Experience Level"}),e.jsx("option",{value:"no_experience",children:"No Experience"}),e.jsx("option",{value:"junior",children:"Junior"}),e.jsx("option",{value:"senior",children:"Senior"}),e.jsx("option",{value:"expert",children:"Expert"})]})}),e.jsx("div",{children:e.jsx("textarea",{name:"description",id:"description",placeholder:"Job Description",value:r.description,onChange:o,rows:6,className:"block w-full bg-gray-50 text-black outline-none px-5 py-3 border border-gray-300 rounded-md shadow-sm focus:ring-green-900 focus:border-green-900",required:!0})}),e.jsx("div",{children:e.jsx("input",{type:"date",name:"applicationDeadline",id:"applicationDeadline",value:r.applicationDeadline,onChange:o,className:"block w-full bg-gray-50 text-blackoutline-none px-5 py-3 border border-gray-300 rounded-md shadow-sm focus:ring-green-900 focus:border-green-900",required:!0})}),e.jsx("div",{children:e.jsx("input",{type:"email",name:"contactEmail",id:"contactEmail",placeholder:"Contact Email",value:r.contactEmail,onChange:o,className:"block w-full bg-gray-50 text-black outline-none px-5 py-3 border border-gray-300 rounded-md shadow-sm focus:ring-green-900 focus:border-green-900",required:!0})}),e.jsx("div",{className:"flex w-full justify-center",children:e.jsx("button",{type:"submit",className:"w-1/2 py-3 px-6 outline-none text-lg font-medium rounded-md text-white bg-harPrimary hover:bg-harSecondary transition duration-200",children:n?"Update Job":"Post Job"})})]})]})})};export{f as J};
