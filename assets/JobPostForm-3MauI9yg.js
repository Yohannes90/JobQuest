import{r as d,j as e}from"./index-CElz7TYM.js";import{S as m,E as h}from"./Error-C8-LmoTb.js";var g={VITE_BASE_PATH:"/harWebsite/",BASE_URL:"/harWebsite/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const v=({job:n})=>{const c={id:-1,jobTitle:"",companyName:"",location:"",jobType:"",jobCategory:"",description:"",workArrangement:"",experienceLevel:"",applicationDeadline:"",contactEmail:""},[o,s]=d.useState(c),[u,p]=d.useState(!1);d.useEffect(()=>{n&&s(n)},[n]);const r=i=>{const{name:t,value:a}=i.target;s({...o,[t]:a})},b=()=>{s(c)},x=async i=>{i.preventDefault(),console.log("Form submitted"),console.log(o);try{const t=n?`${g.VITE_API_URL}/api/job-postings/${o.id}`:`${g.VITE_API_URL}/api/submit-job-posting`,a=n?"PUT":"POST";if(console.log(`Sending ${a} request to ${t}`),(await fetch(t,{method:a,headers:{"Content-Type":"application/json"},body:JSON.stringify(o)})).ok){const l="Job posting submitted successfully";p(!0),setTimeout(()=>{u&&m},3e3),p(!1),b()}else{const l="Failed to submit job posting";setTimeout(()=>{h},3e3)}}catch(t){console.error("Error submitting job posting:",t)}};return e.jsx("div",{id:"job-post-form",className:"text-black min-h-screen flex items-center justify-center py-12 bg-gray-100",children:e.jsxs("div",{className:"bg-white p-10 rounded-lg shadow-lg w-full max-w-4xl",children:[u&&e.jsx(m,{msg:"Job posting submitted successfully"}),e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("h2",{className:"uppercase text-3xl text-harPrimary",children:n?"Update Job Post":"Job Post Creation"}),e.jsx("p",{className:"mt-4 text-lg text-gray-600 font-thin",children:n?"Update the details of the job post below.":"Fill out the form below to create a job post."})]}),e.jsxs("form",{className:"space-y-8",onSubmit:x,children:[e.jsxs("div",{className:"grid grid-cols-1 gap-y-6 sm:grid-cols-2 sm:gap-x-8",children:[e.jsx("div",{children:e.jsx("input",{type:"text",name:"jobTitle",id:"jobTitle",placeholder:"Job Title",value:o.jobTitle,onChange:r,className:"block w-full px-5 py-3 border bg-gray-50 text-black outline-none border-gray-300 rounded-md shadow-sm focus:ring-green-900 focus:border-green-900",required:!0})}),e.jsx("div",{children:e.jsx("input",{type:"text",name:"companyName",id:"companyName",placeholder:"Company Name",value:o.companyName,onChange:r,className:"block w-full bg-gray-50 text-black outline-none px-5 py-3 border border-gray-300 rounded-md shadow-sm focus:ring-green-900 focus:border-green-900",required:!0})}),e.jsx("div",{children:e.jsx("input",{type:"text",name:"location",id:"location",placeholder:"Location",value:o.location,onChange:r,className:"block w-full bg-gray-50 text-black outline-none px-5 py-3 border border-gray-300 rounded-md shadow-sm focus:ring-green-900 focus:border-green-900",required:!0})}),e.jsx("div",{children:e.jsxs("select",{name:"jobType",id:"jobType",value:o.jobType,onChange:r,className:"block w-full bg-gray-50 text-black outline-none px-5 py-3 border border-gray-300 rounded-md shadow-sm focus:ring-green-900 focus:border-green-900",required:!0,children:[e.jsx("option",{className:"text-gray-600 bg-gray-200",value:"",disabled:!0,children:"Select Job Type"}),e.jsx("option",{value:"full_time",children:"Full-time"}),e.jsx("option",{value:"part_time",children:"Part-time"}),e.jsx("option",{value:"contract",children:"Contract"}),e.jsx("option",{value:"internship",children:"Internship"})]})})]}),e.jsx("div",{children:e.jsxs("select",{name:"jobCategory",id:"jobCategory",value:o.jobCategory,onChange:r,className:"block w-full bg-gray-50 text-black outline-none px-5 py-3 border border-gray-300 rounded-md shadow-sm focus:ring-green-900 focus:border-green-900",required:!0,children:[e.jsx("option",{value:"",disabled:!0,children:"Select Job Category"}),e.jsx("option",{value:"information_technology",children:"Information Technology"}),e.jsx("option",{value:"hr",children:"HR"}),e.jsx("option",{value:"software_development",children:"Software Development"}),e.jsx("option",{value:"marketing_and_sales",children:"Marketing and Sales"}),e.jsx("option",{value:"product_management",children:"Product Management"})]})}),e.jsx("div",{children:e.jsxs("select",{name:"workArrangement",id:"workArrangement",value:o.workArrangement,onChange:r,className:"block w-full bg-gray-50 text-black outline-none px-5 py-3 border border-gray-300 rounded-md shadow-sm focus:ring-green-900 focus:border-green-900",required:!0,children:[e.jsx("option",{value:"",disabled:!0,children:"Select Work Arrangement"}),e.jsx("option",{value:"in_person",children:"In-person"}),e.jsx("option",{value:"remote",children:"Remote"}),e.jsx("option",{value:"hybrid",children:"Hybrid"})]})}),e.jsx("div",{children:e.jsxs("select",{name:"experienceLevel",id:"experienceLevel",value:o.experienceLevel,onChange:r,className:"block w-full bg-gray-50 text-black outline-none px-5 py-3 border border-gray-300 rounded-md shadow-sm focus:ring-green-900 focus:border-green-900",required:!0,children:[e.jsx("option",{value:"",disabled:!0,children:"Select Experience Level"}),e.jsx("option",{value:"no_experience",children:"No Experience"}),e.jsx("option",{value:"junior",children:"Junior"}),e.jsx("option",{value:"senior",children:"Senior"}),e.jsx("option",{value:"expert",children:"Expert"})]})}),e.jsx("div",{children:e.jsx("textarea",{name:"description",id:"description",placeholder:"Job Description",value:o.description,onChange:r,rows:6,className:"block w-full bg-gray-50 text-black outline-none px-5 py-3 border border-gray-300 rounded-md shadow-sm focus:ring-green-900 focus:border-green-900",required:!0})}),e.jsx("div",{children:e.jsx("input",{type:"date",name:"applicationDeadline",id:"applicationDeadline",value:o.applicationDeadline,onChange:r,className:"block w-full bg-gray-50 text-blackoutline-none px-5 py-3 border border-gray-300 rounded-md shadow-sm focus:ring-green-900 focus:border-green-900",required:!0})}),e.jsx("div",{children:e.jsx("input",{type:"email",name:"contactEmail",id:"contactEmail",placeholder:"Contact Email",value:o.contactEmail,onChange:r,className:"block w-full bg-gray-50 text-black outline-none px-5 py-3 border border-gray-300 rounded-md shadow-sm focus:ring-green-900 focus:border-green-900",required:!0})}),e.jsx("div",{className:"flex w-full justify-center",children:e.jsx("button",{type:"submit",className:"w-1/2 py-3 px-6 outline-none text-lg font-medium rounded-md text-white bg-harPrimary hover:bg-harSecondary transition duration-200",children:n?"Update Job":"Post Job"})})]})]})})};export{v as J};
